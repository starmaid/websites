"<!DOCTYPE html>"
<html lang="en">

<head>
    <title>hey</title>
    <link rel="icon" href="./favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="./style.css">

    <script src="./script.js" defer></script>
    <!-- <script>
        var t = setInterval(function () {
            if (window.goatcounter && window.goatcounter.visit_count) {
                clearInterval(t)
                window.goatcounter.visit_count({ append: 'body', type: 'png', no_branding: true })
            }
        }, 100)
    </script>-->
    <script data-goatcounter="https://starmaid.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</head>

<body>
    <h1>dont just scan random QR codes >:(</h1>

    <div class="fools">Number of fools: <div id="stats"></div></div>

    <script>
        let r = new XMLHttpRequest();
        r.addEventListener('load', function () {
            document.querySelector('#stats').innerText = JSON.parse(this.responseText).count
        })

        // Should be exact (encoded) path as it appears in the UI. This uses
        // GoatCounter's count.js
        let path = window.goatcounter.get_data()['p']

        // Or alternatively, do it manually. Will return HTTP status 404 if the
        // path is not found).
        //let path = location.pathname

        r.open('GET', 'https://starmaid.goatcounter.com/counter/' + encodeURIComponent(path) + '.json')
        r.send()
    </script>
</body>

</html>